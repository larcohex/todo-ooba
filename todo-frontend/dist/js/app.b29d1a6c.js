(function(t){function e(e){for(var s,r,i=e[0],u=e[1],l=e[2],p=0,d=[];p<i.length;p++)r=i[p],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);c&&c(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},o={app:0},a=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var c=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("85ec"),o=n.n(s);o.a},"0b5c":function(t,e,n){},"0f3c":function(t,e,n){},1093:function(t,e,n){},"3d26":function(t,e,n){"use strict";var s=n("0f3c"),o=n.n(s);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("d3b7"),n("3ca3"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav",{staticClass:"menu"},[n("router-link",{staticClass:"menu__link",class:{menu__link_active:"Home"===t.currentPage},attrs:{to:"/"}},[t._v("Все")]),t._l(t.groups,(function(e){return n("div",{key:e._id,staticClass:"menu__group"},[n("router-link",{staticClass:"menu__link",class:{menu__link_active:t.currentPage===e._id},attrs:{to:"/group/"+e._id}},[t._v(" "+t._s(e.title)+" ")]),n("div",{staticClass:"menu__controls"},[n("button",{staticClass:"button button_light",on:{click:function(n){return t.openGroupModal(e)}}},[n("fa-icon",{attrs:{icon:"pen"}})],1),n("button",{staticClass:"button button_light",on:{click:function(n){return t.openDeleteGroupModal(e)}}},[n("fa-icon",{attrs:{icon:"times"}})],1)])],1)})),n("button",{staticClass:"button",on:{click:function(e){return t.openGroupModal()}}},[n("fa-icon",{attrs:{icon:"plus",size:"xs"}}),t._v(" Добавить группу ")],1)],2),n("div",{staticClass:"content"},[n("div",{staticClass:"menu__info_mobile"},[n("a",{staticClass:"menu__link menu__link_active menu__link_mobile-title",on:{click:t.toggleMenu}},[t._v(" "+t._s(t.currentPageName)+" "),n("fa-icon",{staticClass:"menu__icon_mobile",attrs:{icon:"caret-down"}})],1),n("nav",{directives:[{name:"show",rawName:"v-show",value:t.isMenuOpen,expression:"isMenuOpen"}],staticClass:"menu menu_mobile"},[n("div",{staticClass:"menu__group"},[n("router-link",{staticClass:"menu__link",class:{menu__link_active:"Home"===t.currentPage},attrs:{to:"/"},nativeOn:{click:function(e){return t.toggleMenu(e)}}},[t._v(" Все ")])],1),t._l(t.groups,(function(e){return n("div",{key:e._id,staticClass:"menu__group"},[n("router-link",{staticClass:"menu__link",class:{menu__link_active:t.currentPage===e._id},attrs:{to:"/group/"+e._id},nativeOn:{click:function(e){return t.toggleMenu(e)}}},[t._v(" "+t._s(e.title)+" ")]),n("div",{staticClass:"menu__controls"},[n("button",{staticClass:"button button_light",on:{click:function(n){return t.openGroupModal(e)}}},[n("fa-icon",{attrs:{icon:"pen"}})],1),n("button",{staticClass:"button button_light",on:{click:function(n){return t.openDeleteGroupModal(e)}}},[n("fa-icon",{attrs:{icon:"times"}})],1)])],1)})),n("button",{staticClass:"button",on:{click:function(e){return t.openGroupModal()}}},[n("fa-icon",{attrs:{icon:"plus",size:"xs"}}),t._v(" Добавить группу ")],1)],2)]),n("router-view")],1),n("modal",{directives:[{name:"show",rawName:"v-show",value:t.isGroupModalOpen,expression:"isGroupModalOpen"}],on:{close:t.closeGroupModal},scopedSlots:t._u([{key:"header",fn:function(){return[n("h2",[t._v(t._s(t.selectedGroup._id?"Изменить":"Создать")+" группу")])]},proxy:!0},{key:"body",fn:function(){return[n("label",{staticClass:"label",attrs:{for:"name"}},[t._v("Название")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedGroup.title,expression:"selectedGroup.title"}],staticClass:"text-input",attrs:{type:"text",id:"name"},domProps:{value:t.selectedGroup.title},on:{input:function(e){e.target.composing||t.$set(t.selectedGroup,"title",e.target.value)}}})]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.submitGroup}},[t._v(" "+t._s(t.selectedGroup._id?"Изменить":"Создать")+" ")]),n("button",{staticClass:"button button_light",attrs:{type:"button"},on:{click:t.closeGroupModal}},[t._v(" Отмена ")])]},proxy:!0}])}),n("modal",{directives:[{name:"show",rawName:"v-show",value:t.isDeleteGroupModalOpen,expression:"isDeleteGroupModalOpen"}],on:{close:t.closeDeleteGroupModal},scopedSlots:t._u([{key:"header",fn:function(){return[n("h2",[t._v("Удалить группу")])]},proxy:!0},{key:"body",fn:function(){return[n("p",[t._v(' Вы действительно хотите удалить группу "'+t._s(t.selectedGroup.title)+'"? Это действие будет невозможно отменить. ')])]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.deleteGroup}},[t._v(" Удалить ")]),n("button",{staticClass:"button button_light",attrs:{type:"button"},on:{click:t.closeDeleteGroupModal}},[t._v(" Отмена ")])]},proxy:!0}])})],1)},a=[],r=(n("b0c0"),n("5530")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal",on:{click:t.closeModal}},[n("div",{staticClass:"modal__body",on:{click:t.stopPropagation}},[n("header",{staticClass:"modal__header"},[t._t("header",[n("button",{staticClass:"modal__close-button",attrs:{type:"button"},on:{click:t.closeModal}},[n("fa-icon",{attrs:{icon:"times"}})],1)])],2),n("section",{staticClass:"modal__body"},[t._t("body")],2),n("footer",{staticClass:"modal__footer"},[t._t("footer",[n("button",{staticClass:"button button_light",attrs:{type:"button"},on:{click:t.closeModal}},[t._v(" Cancel ")])])],2)])])},u=[],l={name:"Modal",methods:{closeModal:function(){this.$emit("close")},stopPropagation:function(t){t.stopPropagation()}}},c=l,p=(n("6683"),n("2877")),d=Object(p["a"])(c,i,u,!1,null,null,null),f=d.exports,_={name:"App",components:{Modal:f},data:function(){return{isGroupModalOpen:!1,isDeleteGroupModalOpen:!1,selectedGroup:{title:""},isMenuOpen:!1}},computed:{tasks:function(){return this.$store.state.tasks},groups:function(){return this.$store.state.groups},currentPage:function(){return"Home"===this.$route.name?"Home":"Group"===this.$route.name?this.$route.params.id:null},currentPageName:function(){if("Home"===this.$route.name)return"Все";if("Group"===this.$route.name){for(var t=0;t<this.groups.length;++t)if(this.groups[t]._id===this.$route.params.id)return this.groups[t].title;return null}return null}},methods:{openGroupModal:function(t){t&&(this.selectedGroup=Object(r["a"])({},t)),this.isGroupModalOpen=!0},closeGroupModal:function(){this.resetGroup(),this.isGroupModalOpen=!1},openDeleteGroupModal:function(t){t&&(this.selectedGroup=t),this.isDeleteGroupModalOpen=!0},closeDeleteGroupModal:function(){this.resetGroup(),this.isDeleteGroupModalOpen=!1},resetGroup:function(){this.selectedGroup={title:""}},submitGroup:function(){this.$store.dispatch(this.selectedGroup._id?"updateGroup":"addGroup",this.selectedGroup),this.closeGroupModal()},deleteGroup:function(){this.$store.dispatch("removeGroup",this.selectedGroup._id),this.closeDeleteGroupModal()},toggleMenu:function(){this.isMenuOpen=!this.isMenuOpen}}},k=_,m=(n("034f"),Object(p["a"])(k,o,a,!1,null,null,null)),h=m.exports,v=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",{staticClass:"task-list__header"},[n("div",{staticClass:"task-list__filters"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.taskFilter,expression:"taskFilter"}],attrs:{type:"text",placeholder:"Поиск"},domProps:{value:t.taskFilter},on:{input:function(e){e.target.composing||(t.taskFilter=e.target.value)}}}),n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"task-list__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.closed,expression:"closed"}],attrs:{type:"checkbox",id:"done"},domProps:{checked:Array.isArray(t.closed)?t._i(t.closed,null)>-1:t.closed},on:{change:function(e){var n=t.closed,s=e.target,o=!!s.checked;if(Array.isArray(n)){var a=null,r=t._i(n,a);s.checked?r<0&&(t.closed=n.concat([a])):r>-1&&(t.closed=n.slice(0,r).concat(n.slice(r+1)))}else t.closed=o}}}),n("label",{staticClass:"task-list__label",attrs:{for:"done"}},[t._v("Завершенные")])]),n("div",{staticClass:"task-list__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.open,expression:"open"}],attrs:{type:"checkbox",id:"open"},domProps:{checked:Array.isArray(t.open)?t._i(t.open,null)>-1:t.open},on:{change:function(e){var n=t.open,s=e.target,o=!!s.checked;if(Array.isArray(n)){var a=null,r=t._i(n,a);s.checked?r<0&&(t.open=n.concat([a])):r>-1&&(t.open=n.slice(0,r).concat(n.slice(r+1)))}else t.open=o}}}),n("label",{staticClass:"task-list__label",attrs:{for:"open"}},[t._v("Открытые")])])])]),n("button",{staticClass:"button",on:{click:t.openCreateTaskModal}},[n("fa-icon",{attrs:{icon:"plus",size:"xs"}}),t._v(" Добавить задание ")],1)]),n("card-group",{attrs:{tasks:t.tasks},on:{update:t.updateTask,delete:t.deleteTask}}),n("modal",{directives:[{name:"show",rawName:"v-show",value:t.isCreateTaskModalOpen,expression:"isCreateTaskModalOpen"}],on:{close:t.closeCreateTaskModal},scopedSlots:t._u([{key:"header",fn:function(){return[n("h2",[t._v("Создать задание")])]},proxy:!0},{key:"body",fn:function(){return[n("div",[n("label",{staticClass:"label",attrs:{for:"name"}},[t._v("Задание")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.title,expression:"newTask.title"}],staticClass:"text-input",attrs:{type:"text",id:"name"},domProps:{value:t.newTask.title},on:{input:function(e){e.target.composing||t.$set(t.newTask,"title",e.target.value)}}})]),n("div",[n("label",{staticClass:"label",attrs:{for:"description"}},[t._v("Описание")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTask.description,expression:"newTask.description"}],staticClass:"textarea",attrs:{id:"description"},domProps:{value:t.newTask.description},on:{input:function(e){e.target.composing||t.$set(t.newTask,"description",e.target.value)}}})]),n("div",[n("label",{staticClass:"label",attrs:{for:"group"}},[t._v("Группа")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.newTask.group,expression:"newTask.group"}],attrs:{id:"group"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newTask,"group",e.target.multiple?n:n[0])}}},[n("option",{domProps:{value:null}},[t._v("Без группы")]),t._l(t.groups,(function(e){return n("option",{key:e._id,domProps:{value:e._id}},[t._v(t._s(e.title))])}))],2)])]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.createTask}},[t._v(" Создать ")]),n("button",{staticClass:"button button_light",attrs:{type:"button"},on:{click:t.closeCreateTaskModal}},[t._v(" Отмена ")])]},proxy:!0}])})],1)},g=[],y=(n("a4d3"),n("e01a"),n("4de4"),n("2ca0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-group"},[t._l(t.tasks,(function(e){return n("card",{key:e._id,attrs:{task:e},on:{delete:t.openDeleteTaskModal,update:t.updateTask}})})),n("modal",{directives:[{name:"show",rawName:"v-show",value:t.isDeleteTaskModalOpen,expression:"isDeleteTaskModalOpen"}],on:{close:t.closeDeleteTaskModal},scopedSlots:t._u([{key:"header",fn:function(){return[n("h2",[t._v("Удалить задание")])]},proxy:!0},{key:"body",fn:function(){return[n("p",[t._v(' Вы действительно хотите удалить задание "'+t._s(t.selectedTask?t.selectedTask.title:"")+'"? Это действие будет невозможно отменить. ')])]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.deleteTask}},[t._v(" Удалить ")]),n("button",{staticClass:"button button_light",attrs:{type:"button"},on:{click:t.closeDeleteTaskModal}},[t._v(" Отмена ")])]},proxy:!0}])})],2)}),C=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",class:{card_done:t.task.done}},[t.isTaskFormOpen?[n("form",{staticClass:"card__form",on:{submit:function(e){return e.preventDefault(),t.updateTask(e)}}},[n("section",{staticClass:"card__input"},[n("div",[n("label",{staticClass:"label",attrs:{for:"name"}},[t._v("Задание")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.taskCopy.title,expression:"taskCopy.title"}],staticClass:"text-input",attrs:{type:"text",id:"name"},domProps:{value:t.taskCopy.title},on:{input:function(e){e.target.composing||t.$set(t.taskCopy,"title",e.target.value)}}})]),n("div",[n("label",{staticClass:"label",attrs:{for:"description"}},[t._v("Описание")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.taskCopy.description,expression:"taskCopy.description"}],staticClass:"textarea",attrs:{id:"description"},domProps:{value:t.taskCopy.description},on:{input:function(e){e.target.composing||t.$set(t.taskCopy,"description",e.target.value)}}})]),n("div",[n("label",{staticClass:"label",attrs:{for:"group"}},[t._v("Группа")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.taskCopy.group,expression:"taskCopy.group"}],attrs:{id:"group"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.taskCopy,"group",e.target.multiple?n:n[0])}}},[n("option",{domProps:{value:null}},[t._v("Без группы")]),t._l(t.groups,(function(e){return n("option",{key:e._id,domProps:{value:e._id}},[t._v(t._s(e.title))])}))],2)])]),n("footer",{staticClass:"card__footer"},[n("button",{staticClass:"button",attrs:{type:"submit",disabled:!t.taskCopy.title}},[t._v(" Изменить ")]),n("button",{staticClass:"button button_light",attrs:{type:"button"},on:{click:t.closeTaskForm}},[t._v(" Отмена ")])])])]:[n("header",{staticClass:"card__header",class:{card__header_short:!t.full}},[n("h3",{staticClass:"card__title",class:{card__title_full:t.full}},[t._v(" "+t._s(t.task.title)+" ")])]),n("section",{staticClass:"card__body",class:{card__body_short:!t.full}},[n("p",{staticClass:"card__description",class:{card__description_short:!t.full}},[t._v(" "+t._s(t.task.description)+" ")])]),n("footer",{staticClass:"card__footer"},[n("div",{staticClass:"card__controls"},[n("button",{staticClass:"button button_light",on:{click:t.toggleFull}},[t._v(" "+t._s(t.full?"Меньше":"Раскрыть")+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.task.done,expression:"task.done"}],staticClass:"card__checkbox",attrs:{type:"checkbox",id:"done"},domProps:{checked:Array.isArray(t.task.done)?t._i(t.task.done,null)>-1:t.task.done},on:{change:[function(e){var n=t.task.done,s=e.target,o=!!s.checked;if(Array.isArray(n)){var a=null,r=t._i(n,a);s.checked?r<0&&t.$set(t.task,"done",n.concat([a])):r>-1&&t.$set(t.task,"done",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.task,"done",o)},t.toggleStatus]}}),n("button",{staticClass:"button button_light",on:{click:t.openTaskForm}},[n("fa-icon",{attrs:{icon:"pen"}})],1),n("button",{staticClass:"button button_light",on:{click:t.openDeleteTaskModal}},[n("fa-icon",{attrs:{icon:"times"}})],1)])])]],2)},T=[],x={name:"Card",props:{task:{type:Object,required:!0}},data:function(){return{isTaskFormOpen:!1,isDeleteTaskModalOpen:!1,taskCopy:null,full:!1}},computed:{groups:function(){return this.$store.state.groups}},methods:{openTaskForm:function(){this.isTaskFormOpen=!0,this.taskCopy=Object(r["a"])({},this.task)},closeTaskForm:function(){this.isTaskFormOpen=!1},openDeleteTaskModal:function(){this.$emit("delete",this.task)},updateTask:function(){this.$emit("update",this.taskCopy),this.closeTaskForm()},toggleStatus:function(){this.$emit("update",this.task)},toggleFull:function(){this.full=!this.full}}},M=x,G=(n("d612"),Object(p["a"])(M,w,T,!1,null,null,null)),O=G.exports,$={name:"CardGroup",components:{Card:O,Modal:f},props:{tasks:{type:Array,required:!0}},data:function(){return{isDeleteTaskModalOpen:!1,selectedTask:null}},methods:{updateTask:function(t){this.$emit("update",t)},openDeleteTaskModal:function(t){this.isDeleteTaskModalOpen=!0,this.selectedTask=t},closeDeleteTaskModal:function(){this.isDeleteTaskModalOpen=!1,this.selectedTask=null},deleteTask:function(){this.$emit("delete",this.selectedTask._id),this.closeDeleteTaskModal()}}},j=$,P=(n("3d26"),Object(p["a"])(j,y,C,!1,null,null,null)),D=P.exports,N={name:"TaskList",components:{CardGroup:D,Modal:f},data:function(){return{isCreateTaskModalOpen:!1,newTask:{title:"",description:"",done:!1,group:null},taskFilter:"",closed:!1,open:!1}},computed:{tasks:function(){var t=this;return this.$store.state.tasks.filter((function(e){return("Group"!==t.$route.name||e.group&&e.group===t.$route.params.id)&&e.title.toLowerCase().startsWith(t.taskFilter.toLowerCase())&&(!t.open||!e.done)&&(!t.closed||e.done)}))},groups:function(){return this.$store.state.groups}},watch:{open:function(t){t&&this.closed&&(this.closed=!1)},closed:function(t){t&&this.open&&(this.open=!1)}},methods:{openCreateTaskModal:function(){this.isCreateTaskModalOpen=!0},closeCreateTaskModal:function(){this.isCreateTaskModalOpen=!1,this.resetNewTask()},resetNewTask:function(){this.newTask.title="",this.newTask.description=""},createTask:function(){this.$store.dispatch("addTask",this.newTask),this.closeCreateTaskModal()},updateTask:function(t){this.$store.dispatch("updateTask",t)},deleteTask:function(t){this.$store.dispatch("removeTask",t)}}},F=N,A=(n("b545"),Object(p["a"])(F,b,g,!1,null,"68d87006",null)),R=A.exports;s["a"].use(v["a"]);var S=[{path:"/group/:id",name:"Group",component:R},{path:"/",name:"Home",component:R}],H=new v["a"]({mode:"history",base:"/",routes:S}),E=H,z=(n("a434"),n("2f62")),L=n("3eea"),q=n.n(L),J=(n("96cf"),n("1da1")),W=n("d823");function B(){return I.apply(this,arguments)}function I(){return I=Object(J["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].get("/api/tasks/").json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),I.apply(this,arguments)}function K(t){return Q.apply(this,arguments)}function Q(){return Q=Object(J["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].post("/api/tasks/",{json:e}).json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),Q.apply(this,arguments)}function U(t,e){return V.apply(this,arguments)}function V(){return V=Object(J["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].patch("/api/tasks/".concat(e,"/"),{json:n}).json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}function X(t){return Y.apply(this,arguments)}function Y(){return Y=Object(J["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].delete("/api/tasks/".concat(e,"/")).json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function Z(){return tt.apply(this,arguments)}function tt(){return tt=Object(J["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].get("/api/groups/").json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),tt.apply(this,arguments)}function et(t){return nt.apply(this,arguments)}function nt(){return nt=Object(J["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].post("/api/groups/",{json:e}).json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),nt.apply(this,arguments)}function st(t,e){return ot.apply(this,arguments)}function ot(){return ot=Object(J["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].patch("/api/groups/".concat(e,"/"),{json:n}).json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),ot.apply(this,arguments)}function at(t){return rt.apply(this,arguments)}function rt(){return rt=Object(J["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W["a"].delete("/api/groups/".concat(e,"/")).json();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),rt.apply(this,arguments)}s["a"].use(z["a"]);var it=new z["a"].Store({state:{tasks:[],groups:[],init:!1},actions:{addTask:function(t,e){var n=t.state;K(e).then((function(t){n.tasks.push(t)}))},updateTask:function(t,e){var n=t.state;U(e._id,q()(e,"_id")).then((function(t){for(var e=0;e<n.tasks.length;++e)if(n.tasks[e]._id===t._id){n.tasks[e].title=t.title,n.tasks[e].description=t.description,n.tasks[e].done=t.done,n.tasks[e].group=t.group;break}}))},removeTask:function(t,e){var n=t.state;X(e).then((function(){for(var t=0;t<n.tasks.length;++t)if(n.tasks[t]._id===e){n.tasks.splice(t,1);break}}))},addGroup:function(t,e){var n=t.state;et(e).then((function(t){n.groups.push(t)}))},updateGroup:function(t,e){var n=t.state;st(e._id,q()(e,"_id")).then((function(t){for(var e=0;e<n.groups.length;++e)if(n.groups[e]._id===t._id){n.groups[e].title=t.title;break}}))},removeGroup:function(t,e){var n=t.state;at(e).then((function(){for(var t=0;t<n.groups.length;++t)if(n.groups[t]._id===e){n.groups.splice(t,1);break}}))}}}),ut=n("ecee"),lt=n("c074"),ct=n("ad3d");s["a"].config.productionTip=!1,ut["c"].add(lt["a"],lt["b"],lt["c"],lt["d"],lt["e"]),s["a"].component("fa-icon",ct["a"]),new s["a"]({router:E,store:it,render:function(t){return t(h)},beforeCreate:function(){Promise.all([B(),Z()]).then((function(t){it.state.tasks=t[0],it.state.groups=t[1],it.state.init=!0}))}}).$mount("#app")},6683:function(t,e,n){"use strict";var s=n("1093"),o=n.n(s);o.a},"78d2":function(t,e,n){},"85ec":function(t,e,n){},b545:function(t,e,n){"use strict";var s=n("0b5c"),o=n.n(s);o.a},d612:function(t,e,n){"use strict";var s=n("78d2"),o=n.n(s);o.a}});
//# sourceMappingURL=app.b29d1a6c.js.map